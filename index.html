<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8"> <!-- Définit le jeu de caractères (UTF-8) pour le document -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Règle l'affichage pour les appareils mobiles -->
    <title>Évaluation et Entretien Annuel</title> <!-- Le titre qui apparaîtra dans l'onglet du navigateur -->
    <style>
        /* Définition de styles pour la page, tels que la police, la mise en page et l'apparence des éléments */
        body { 
            font-family: Arial, sans-serif; /* Choix de la police de caractères pour tout le corps de la page */
            margin: 20px; /* Marge autour du contenu de la page */
        }
        .container { 
            max-width: 800px; /* La largeur maximale de la zone principale du formulaire (800px) */
            margin: auto; /* Centre le contenu horizontalement */
        }

        table { 
            width: 100%; /* La table occupe toute la largeur de son conteneur */
            border-collapse: collapse; /* Empêche les doubles bordures entre les cellules */
            margin-top: 20px; /* Ajoute un espace au-dessus de la table */
        }
        th, td { 
            border: 1px solid #ccc; /* Définit une bordure claire pour les cellules de la table */
            padding: 10px; /* Espacement interne des cellules */
            text-align: center; /* Centre le texte à l'intérieur des cellules */
        }
        th { 
            background-color: #f4f4f4; /* Donne une couleur de fond grise claire aux en-têtes de table */
        }
        td:first-child { 
            text-align: left; /* Aligne le texte à gauche pour la première colonne de la table (les critères) */
        }

        input, textarea { 
            width: 100%; /* Les champs de saisie (input) et les zones de texte (textarea) occupent toute la largeur de leur conteneur */
            padding: 8px; /* Espacement interne pour un confort de saisie */
            margin-top: 5px; /* Espacement entre les éléments du formulaire */
            box-sizing: border-box; /* Inclut les marges et le padding dans la largeur de l'élément */
        }

        textarea { 
            resize: none; /* Empêche le redimensionnement de la zone de texte */
            overflow: hidden; /* Cache les barres de défilement si le contenu dépasse */
            min-height: 50px; /* Hauteur minimale de la zone de texte */
        }

        button { 
            background-color: #28a745; /* Couleur de fond verte pour le bouton */
            color: white; /* Texte blanc sur le bouton */
            padding: 10px; /* Espacement interne du bouton */
            border: none; /* Pas de bordure autour du bouton */
            cursor: pointer; /* Le curseur se transforme en main lorsqu'on passe dessus */
            position: fixed; /* Position fixe pour le bouton en bas à droite */
            right: 20px; 
            bottom: 20px;
            z-index: 1000; /* Assure que le bouton soit toujours visible */
        }
        button:hover { 
            background-color: #218838; /* Change la couleur de fond du bouton au survol */
        }

        .inline { 
            display: flex; /* Utilisation du flexbox pour aligner les éléments horizontalement */
            gap: 40px; /* Espacement entre les éléments de la ligne */
            margin-bottom: 15px; /* Espacement sous chaque ligne d'éléments */
        }

        .inline label { 
            flex: 1; /* Les labels prennent toute la largeur disponible de manière égale */
        }

        .bold { 
            font-weight: bold; /* Applique un style de texte en gras */
            display: block; /* Force l'élément à se comporter comme un bloc (sur une nouvelle ligne) */
            margin-top: 10px; /* Espace entre les éléments de type bloc */
        }

        footer { 
            margin-top: 20px; /* Ajoute de l'espace au-dessus du pied de page */
        }

        .sub-section { 
            margin-top: 15px; 
            margin-left: 20px; /* Ajoute un décalage à gauche pour les sous-sections */
        }

        .decisions-section { 
            margin-top: 15px; /* Espace au-dessus des décisions prises */
        }

        .decision-item { 
            margin-bottom: 15px; /* Espace entre chaque décision */
        }

        .radio-cell { 
            text-align: center; /* Centre les boutons radio dans leur cellule */
        }

        footer .bold { 
            font-weight: bold; /* Le texte du footer sera en gras */
        }

        .footer-inline { 
            display: flex; /* Utilisation de flexbox pour aligner les éléments horizontalement dans le footer */
            gap: 20px; /* Espacement entre les éléments */
            align-items: center; /* Centrer verticalement les éléments */
        }

        .footer-inline label { 
            white-space: nowrap; /* Empêche le texte de se couper sur plusieurs lignes dans le footer */
        }

        /* Champs de date spécifiques, pour réduire la largeur des champs de type date */
        input[type="date"] {
            width: 100px; /* Largeur des champs de date ajustée à 100px */
        }

        /* Centrer les boutons radio dans leur cellule */
        .radio-cell input[type="radio"] {
            margin: 0; /* Enlève toute marge qui pourrait perturber l'alignement */
        }
    </style>
    <script>
        // Fonction d'impression de la page
        function imprimerPage() {
            window.print(); /* Ouvre la fenêtre d'impression du navigateur */
        }

        // Fonction pour ajuster la hauteur des zones de texte (textarea) en fonction de leur contenu
        function autoResizeTextarea(el) {
            el.style.height = 'auto'; /* Réinitialise la hauteur */
            el.style.height = (el.scrollHeight) + 'px'; /* Ajuste la hauteur à la hauteur du contenu */
        }

        // Attendre que le DOM soit chargé avant d'ajouter des événements aux textarea
        document.addEventListener("DOMContentLoaded", function() {
            // Applique un redimensionnement automatique à toutes les zones de texte
            document.querySelectorAll("textarea").forEach(textarea => {
                textarea.addEventListener("input", function() {
                    autoResizeTextarea(this); /* Appelle la fonction pour ajuster la hauteur au contenu */
                });
            });
        });
    </script>
</head>
<body>
    <div class="container">
        <h2>Évaluation et Entretien Annuel</h2>
        <!-- Section d'entrée des informations personnelles -->
        <div class="inline">
            <label>Nom : <input type="text" name="nom"></label>
            <label>Prénom : <input type="text" name="prenom"></label>
        </div>
        <div class="inline">
            <label>Date de naissance : <input type="date" name="date_naissance"></label>
            <label>Entrée en fonction le : <input type="date" name="entree_fonction"></label>
        </div>
        
        <!-- Table des critères d'évaluation -->
        <table>
            <tr>
                <th>Critères</th>
                <th>--</th>
                <th>-</th>
                <th>N</th>
                <th>+</th>
                <th>++</th>
                <th>Remarques</th>
            </tr>
            <script>
                // Liste des critères d'évaluation
                let criteres = [
                    "Performance au travail",
                    "Compétences dans les tâches",
                    "Satisfaction au poste de travail",
                    "Satisfaction dans l’entreprise",
                    "Soin du matériel et des véhicules",
                    "Comportement envers ses collègues",
                    "Comportement envers son supérieur",
                    "Comportement envers les clients",
                    "Assiduité - Respect horaires - Feuilles d’heures",
                    "Tenue vestimentaire & hygiène personnelle",
                    "Prise de responsabilités"
                ];
                
                // Génère les lignes de la table pour chaque critère
                criteres.forEach((critere, index) => {
                    document.write(`<tr>
                        <td>${critere}</td>
                        <td class="radio-cell"><input type="radio" name="critere${index}" value="--"></td>
                        <td class="radio-cell"><input type="radio" name="critere${index}" value="-"></td>
                        <td class="radio-cell"><input type="radio" name="critere${index}" value="N"></td>
                        <td class="radio-cell"><input type="radio" name="critere${index}" value="+"></td>
                        <td class="radio-cell"><input type="radio" name="critere${index}" value="++"></td>
                        <td><textarea oninput="autoResizeTextarea(this)"></textarea></td>
                    </tr>`); 
                });
            </script>
        </table>

        <!-- Sections pour les améliorations -->
        <div class="section">
            <label class="bold">Que peux-tu améliorer ?</label><br>
            <label>Personnellement : <textarea name="amelioration_personnelle" oninput="autoResizeTextarea(this)"></textarea></label>
            <label>Dans le travail : <textarea name="amelioration_travail" oninput="autoResizeTextarea(this)"></textarea></label>
        </div>

        <div class="section">
            <label class="bold">Que pouvons-nous améliorer ?</label>
            <textarea name="amelioration_entreprise" oninput="autoResizeTextarea(this)"></textarea>
        </div>

        <!-- Section des décisions -->
        <div class="section decisions-section">
            <label class="bold">Décisions prises en commun :</label><br>
            <div class="decision-item">
                <label>Décision 1 :</label>
                <textarea name="decision_1" oninput="autoResizeTextarea(this)"></textarea>
                <div class="inline-decision">
                    <label>Délai pour la réaliser :</label>
                    <input type="date" name="delai_realisation_1">
                </div>
            </div>
            <div class="decision-item">
                <label>Décision 2 :</label>
                <textarea name="decision_2" oninput="autoResizeTextarea(this)"></textarea>
                <div class="inline-decision">
                    <label>Délai pour la réaliser :</label>
                    <input type="date" name="delai_realisation_2">
                </div>
            </div>
            <div class="decision-item">
                <label>Décision 3 :</label>
                <textarea name="decision_3" oninput="autoResizeTextarea(this)"></textarea>
                <div class="inline-decision">
                    <label>Délai pour la réaliser :</label>
                    <input type="date" name="delai_realisation_3">
                </div>
            </div>
        </div>

        <!-- Footer avec les informations de l'entretien -->
        <footer>
            <div class="footer-inline">
                <label class="bold">Entretien effectué le :</label> <input type="date" name="date_entretien">
                <label>Par :</label> <input type="text" name="responsable">
                <label>Collaborateur :</label> <input type="text" name="collaborateur">
            </div>
        </footer>
        
        <!-- Bouton pour imprimer -->
        <button onclick="imprimerPage()">Imprimer</button>
    </div>
</body>
</html>
