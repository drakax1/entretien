<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Évaluation et Entretien Annuel</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
        th { background-color: #f4f4f4; }
        td:first-child { text-align: left; }
        .container { max-width: 800px; margin: auto; }
        .section { margin-top: 20px; }
        input, textarea { width: 100%; padding: 8px; margin-top: 5px; }
        textarea { resize: none; overflow: hidden; min-height: 50px; box-sizing: border-box; width: calc(100% - 16px); }
        button { background-color: #28a745; color: white; padding: 10px; border: none; cursor: pointer; position: fixed; right: 20px; bottom: 20px; z-index: 1000; }
        button:hover { background-color: #218838; }
        .inline { display: flex; gap: 40px; margin-bottom: 15px; }
        .inline label { flex: 1; }
        .bold { font-weight: bold; display: block; margin-top: 10px; }
        footer { margin-top: 20px; }
        .sub-section { margin-top: 15px; margin-left: 20px; }
        .decisions-section { margin-top: 15px; }
        .decision-item { margin-bottom: 15px; }
        .radio-cell { text-align: center; }
        footer .bold { font-weight: bold; }
        .footer-inline { display: flex; gap: 20px; align-items: center; }
        .footer-inline label { white-space: nowrap; }

        /* NEW CSS TO MAKE DELAY FIELDS INLINE */
        .inline-decision { display: flex; gap: 20px; align-items: center; }
        .inline-decision label, .inline-decision input { margin-bottom: 0; }

        /* Set the same width for all date fields (reduced width) */
        input[type="date"] {
            width: 100px; /* Adjusted width to 100px */
        }

        /* Make sure buttons are centered in their cells */
        .radio-cell input[type="radio"] {
            margin: 0;
        }
    </style>
    <script>
        function imprimerPage() {
            window.print();
        }
        function autoResizeTextarea(el) {
            el.style.height = 'auto';
            el.style.height = (el.scrollHeight) + 'px';
        }
        document.addEventListener("DOMContentLoaded", function() {
            document.querySelectorAll("textarea").forEach(textarea => {
                textarea.addEventListener("input", function() {
                    autoResizeTextarea(this);
                });
            });
        });
    </script>
</head>
<body>
    <div class="container">
        <h2>Évaluation et Entretien Annuel</h2>
        <div class="inline">
            <label>Nom : <input type="text" name="nom"></label>
            <label>Prénom : <input type="text" name="prenom"></label>
        </div>
        <div class="inline">
            <label>Date de naissance : <input type="date" name="date_naissance"></label>
            <label>Entrée en fonction le : <input type="date" name="entree_fonction"></label>
        </div>
        
        <table>
            <tr>
                <th>Critères</th>
                <th>--</th>
                <th>-</th>
                <th>N</th>
                <th>+</th>
                <th>++</th>
                <th>Remarques</th>
            </tr>
            <script>
                let criteres = [
                    "Performance au travail",
                    "Compétences dans les tâches",
                    "Satisfaction au poste de travail",
                    "Satisfaction dans l’entreprise",
                    "Soin du matériel et des véhicules",
                    "Comportement envers ses collègues",
                    "Comportement envers son supérieur",
                    "Comportement envers les clients",
                    "Assiduité - Respect horaires - Feuilles d’heures",
                    "Tenue vestimentaire & hygiène personnelle",
                    "Prise de responsabilités"
                ];
                
                criteres.forEach((critere, index) => {
                    document.write(`<tr>
                        <td>${critere}</td>
                        <td class="radio-cell"><input type="radio" name="critere${index}" value="--"></td>
                        <td class="radio-cell"><input type="radio" name="critere${index}" value="-"></td>
                        <td class="radio-cell"><input type="radio" name="critere${index}" value="N"></td>
                        <td class="radio-cell"><input type="radio" name="critere${index}" value="+"></td>
                        <td class="radio-cell"><input type="radio" name="critere${index}" value="++"></td>
                        <td><textarea oninput="autoResizeTextarea(this)"></textarea></td>
                    </tr>`); 
                });
            </script>
        </table>

        <div class="section">
            <label class="bold">Que peux-tu améliorer ?</label><br>
            <label>Personnellement : <textarea name="amelioration_personnelle" oninput="autoResizeTextarea(this)"></textarea></label>
            <label>Dans le travail : <textarea name="amelioration_travail" oninput="autoResizeTextarea(this)"></textarea></label>
        </div>

        <div class="section">
            <label class="bold">Que pouvons-nous améliorer ?</label>
            <textarea name="amelioration_entreprise" oninput="autoResizeTextarea(this)"></textarea>
        </div>

        <div class="section decisions-section">
            <label class="bold">Décisions prises en commun :</label><br>
            <div class="decision-item">
                <label>Décision 1 :</label>
                <textarea name="decision_1" oninput="autoResizeTextarea(this)"></textarea>
                <div class="inline-decision">
                    <label>Délai pour la réaliser :</label>
                    <input type="date" name="delai_realisation_1">
                </div>
            </div>
            <div class="decision-item">
                <label>Décision 2 :</label>
                <textarea name="decision_2" oninput="autoResizeTextarea(this)"></textarea>
                <div class="inline-decision">
                    <label>Délai pour la réaliser :</label>
                    <input type="date" name="delai_realisation_2">
                </div>
            </div>
            <div class="decision-item">
                <label>Décision 3 :</label>
                <textarea name="decision_3" oninput="autoResizeTextarea(this)"></textarea>
                <div class="inline-decision">
                    <label>Délai pour la réaliser :</label>
                    <input type="date" name="delai_realisation_3">
                </div>
            </div>
        </div>

        <footer>
            <div class="footer-inline">
                <label class="bold">Entretien effectué le :</label> <input type="date" name="date_entretien">
                <label>Par :</label> <input type="text" name="responsable">
                <label>Collaborateur :</label> <input type="text" name="collaborateur">
            </div>
        </footer>
        
        <button onclick="imprimerPage()">Imprimer</button>
    </div>
</body>
</html>
